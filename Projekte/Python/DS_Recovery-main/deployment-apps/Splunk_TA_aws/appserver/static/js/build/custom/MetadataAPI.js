import{_ as e,a as t,h as a}from"./_rollupPluginBabelHelpers-deef47fd.js";import{t as n}from"./vendor-e1fcc605.js";var i=["ec2_volumes","ec2_instances","ec2_reserved_instances","ebs_snapshots","classic_load_balancers","application_load_balancers","vpcs","vpc_network_acls","vpn_gateways","internet_gateways","customer_gateways","nat_gateways","local_gateways","carrier_gateways","transit_gateways","cloudfront_distributions","vpc_subnets","rds_instances","ec2_key_pairs","ec2_security_groups","ec2_images","ec2_addresses","lambda_functions","s3_buckets","iam_users"],s=function(){function s(e,a,n,i,l){t(this,s),this.globalConfig=e,this.el=a,this.data=n,this.util=l,this.setValue=i}return e(s,[{key:"_setAPIs",value:function(){var e=this,t=i.filter((function(t){return e.el.querySelector("input.api-name[name=".concat(t,"]")).checked})).map((function(t){var a=e.el.querySelector("input.api-interval[name=".concat(t,"]")).value;return"".concat(t,"/").concat(a)})).join(", ");this.util.setState((function(e){var n=a({},e.data);return n.apis.value=t,{data:n}}))}},{key:"_updateUI",value:function(e){var t=e.composedPath()[0],a=t.getAttribute("name"),n=t.checked;this.el.querySelector("input.api-interval[name=".concat(a,"]")).disabled=!n,this._setAPIs()}},{key:"render",value:function(){var e=this,t=n('\x3c!--htmlhint spec-char-escape:false, id-class-value:false --\x3e\n<!DOCTYPE html>\n\x3c!--\n-- SPDX-FileCopyrightText: 2021 Splunk, Inc. <sales@splunk.com>\n-- SPDX-License-Identifier: LicenseRef-Splunk-8-2021\n--\n--\x3e\n\n<tr>\n    <td>\n        <input id="api-<%- api %>" class="api-name" type="checkbox" name="<%- api %>" <%- checked %> />\n    </td>\n    <td>\n        <label class="api-label" for="api-<%- api %>" style="padding:0px 5px"><%- api_label %></label>\n    </td>\n    <td>\n        <input class="api-interval" type="number" min="1" max="31536000" name="<%- api %>" value="<%- interval %>" <%- disabled %> />\n    </td>\n</tr>');this.el.innerHTML=n('<!DOCTYPE html>\n\x3c!--\n-- SPDX-FileCopyrightText: 2021 Splunk, Inc. <sales@splunk.com>\n-- SPDX-License-Identifier: LicenseRef-Splunk-8-2021\n--\n--\x3e\n\n<div class="form-group control-group">\n    <div class="col-sm-10 controls control-placeholder">\n        <table class="api-table">\n            <thead>\n                <tr class="api-header">\n                    <td></td>\n                    <td>API</td>\n                    <td style="padding:0px 15px;">Interval (in seconds)</td>\n                </tr>\n            </thead>\n            <tbody id="apis-field"></tbody>\n        </table>\n    </div>\n</div>')();var a="";if("create"!==this.data.mode){var s=this.data.value.split(",");a=i.map((function(e){var a=s.find((function(t){return t.split("/")[0].trim()===e}));return t({api:e,api_label:e,checked:a?"checked":"",disabled:a?"":"disabled",interval:a?a.split("/")[1].trim():3600})})).join("")}else a=i.map((function(e){var a=e.endsWith("_gateways");return t({api:e,api_label:e,checked:a?"":"checked",disabled:a?"disabled":"",interval:3600})})).join("");return this.el.querySelector("#apis-field").innerHTML=a,this._setAPIs(),this.el.querySelectorAll("input.api-interval").forEach((function(t){t.addEventListener("keyup",(function(t){e._setAPIs()})),t.addEventListener("mouseup",(function(t){e._setAPIs()}))})),this.el.querySelectorAll("input.api-name").forEach((function(t){t.addEventListener("click",(function(t){e._updateUI(t)}))})),this}}]),s}();export{s as default};
//# sourceMappingURL=MetadataAPI.js.map
