{"version":3,"file":"SourceInput-760b23b7.js","sources":["../../../../../../../build-ui/js/configs/SourceInput.js"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2021 Splunk, Inc. <sales@splunk.com>\n * SPDX-License-Identifier: LicenseRef-Splunk-8-2021\n *\n */\n\nimport { omit, pick, isEqual } from 'underscore'\n\nclass SourceInput {\n  getMapData () {\n    return [\n      {\n        service: 'aws_kinesis',\n        input: 'vpc_flow_logs',\n        format: 'CloudWatchLogs',\n        sourcetype: 'aws:cloudwatchlogs:vpcflow'\n      },\n      {\n        service: 'aws_cloudwatch_logs',\n        input: 'vpc_flow_logs',\n        sourcetype: 'aws:cloudwatchlogs:vpcflow'\n      },\n      {\n        service: 'aws_s3',\n        input: 'aws_cloudtrail',\n        sourcetype: 'aws:cloudtrail'\n      },\n      {\n        service: 'aws_s3',\n        input: 'cloudfront_access_logs',\n        sourcetype: 'aws:cloudfront:accesslogs'\n      },\n      {\n        service: 'aws_s3',\n        input: 'elb_access_logs',\n        sourcetype: 'aws:elb:accesslogs'\n      },\n      {\n        service: 'aws_s3',\n        input: 's3_access_logs',\n        sourcetype: 'aws:s3:accesslogs'\n      },\n      {\n        service: 'splunk_ta_aws_logs',\n        input: 'aws_cloudtrail',\n        log_type: 'cloudtrail'\n      },\n      {\n        service: 'splunk_ta_aws_logs',\n        input: 'cloudfront_access_logs',\n        log_type: 'cloudfront:accesslogs'\n      },\n      {\n        service: 'splunk_ta_aws_logs',\n        input: 'elb_access_logs',\n        log_type: 'elb:accesslogs'\n      },\n      {\n        service: 'splunk_ta_aws_logs',\n        input: 's3_access_logs',\n        log_type: 's3:accesslogs'\n      },\n      {\n        service: 'aws_sqs_based_s3',\n        input: 'aws_config',\n        s3_file_decoder: 'Config'\n      },\n      {\n        service: 'aws_sqs_based_s3',\n        input: 'aws_cloudtrail',\n        s3_file_decoder: 'CloudTrail'\n      },\n      {\n        service: 'aws_sqs_based_s3',\n        input: 'cloudfront_access_logs',\n        s3_file_decoder: 'CloudFrontAccessLogs'\n      },\n      {\n        service: 'aws_sqs_based_s3',\n        input: 'elb_access_logs',\n        s3_file_decoder: 'ELBAccessLogs'\n      },\n      {\n        service: 'aws_sqs_based_s3',\n        input: 's3_access_logs',\n        s3_file_decoder: 'S3AccessLogs'\n      },\n      {\n        service: 'aws_sqs_based_s3',\n        input: 'others',\n        s3_file_decoder: 'CustomLogs'\n      }\n    ]\n  }\n\n  getMockService () {\n    return {\n      billing: 'Billing',\n      vpc_flow_logs: 'VPC Flow Logs',\n      s3_access_logs: 'S3 Access Logs',\n      cloudfront_access_logs: 'Cloudfront Access Logs',\n      elb_access_logs: 'ELB Access Logs',\n      others: 'Custom Data Type'\n    }\n  }\n\n  detectSource (model, serviceName) {\n    const mapData = getMapData()\n    const sources = mapData.filter((item) => item.service === serviceName)\n    const item = sources.find((item) => {\n      item = omit(item, ['service', 'input'])\n      const projection = pick(model, Object.keys(item))\n      return isEqual(item, projection)\n    })\n    if (item && 'input' in item) {\n      return item.input\n    } else {\n      return serviceName\n    }\n  }\n}\n\nexport const { getMapData, getMockService, detectSource } = new SourceInput()\n"],"names":["service","input","format","sourcetype","log_type","s3_file_decoder","billing","vpc_flow_logs","s3_access_logs","cloudfront_access_logs","elb_access_logs","others","model","serviceName","sources","getMapData","filter","item","find","omit","projection","pick","Object","keys","isEqual","getMockService","detectSource"],"mappings":"gIA0H4D,0EAjH1D,iBACS,CACL,CACEA,QAAS,cACTC,MAAO,gBACPC,OAAQ,iBACRC,WAAY,8BAEd,CACEH,QAAS,sBACTC,MAAO,gBACPE,WAAY,8BAEd,CACEH,QAAS,SACTC,MAAO,iBACPE,WAAY,kBAEd,CACEH,QAAS,SACTC,MAAO,yBACPE,WAAY,6BAEd,CACEH,QAAS,SACTC,MAAO,kBACPE,WAAY,sBAEd,CACEH,QAAS,SACTC,MAAO,iBACPE,WAAY,qBAEd,CACEH,QAAS,qBACTC,MAAO,iBACPG,SAAU,cAEZ,CACEJ,QAAS,qBACTC,MAAO,yBACPG,SAAU,yBAEZ,CACEJ,QAAS,qBACTC,MAAO,kBACPG,SAAU,kBAEZ,CACEJ,QAAS,qBACTC,MAAO,iBACPG,SAAU,iBAEZ,CACEJ,QAAS,mBACTC,MAAO,aACPI,gBAAiB,UAEnB,CACEL,QAAS,mBACTC,MAAO,iBACPI,gBAAiB,cAEnB,CACEL,QAAS,mBACTC,MAAO,yBACPI,gBAAiB,wBAEnB,CACEL,QAAS,mBACTC,MAAO,kBACPI,gBAAiB,iBAEnB,CACEL,QAAS,mBACTC,MAAO,iBACPI,gBAAiB,gBAEnB,CACEL,QAAS,mBACTC,MAAO,SACPI,gBAAiB,6CAKvB,iBACS,CACLC,QAAS,UACTC,cAAe,gBACfC,eAAgB,iBAChBC,uBAAwB,yBACxBC,gBAAiB,kBACjBC,OAAQ,gDAIZ,SAAcC,EAAOC,OAEbC,EADUC,IACQC,QAAO,SAACC,UAASA,EAAKjB,UAAYa,KACpDI,EAAOH,EAAQI,MAAK,SAACD,GACzBA,EAAOE,EAAKF,EAAM,CAAC,UAAW,cACxBG,EAAaC,EAAKT,EAAOU,OAAOC,KAAKN,WACpCO,EAAQP,EAAMG,aAEnBH,GAAQ,UAAWA,EACdA,EAAKhB,MAELY,YAKEE,IAAAA,WAAYU,IAAAA,eAAgBC,IAAAA"}