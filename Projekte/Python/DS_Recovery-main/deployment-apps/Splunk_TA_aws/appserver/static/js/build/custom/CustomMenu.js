import{b as e,c as a,_ as t,d as s,a as n,e as i,f as r}from"./_rollupPluginBabelHelpers-deef47fd.js";import{R as l,b as o,D as u,S as c,M as m,C as _,B as d,r as f,c as p}from"./vendor-e1fcc605.js";import{T as b}from"./Theme-fcd59ca3.js";import{a as g}from"./GlobalConfigUtil-2d540963.js";import{g as w}from"./SourceInput-760b23b7.js";var h="/home/runner/work/splunk-add-on-for-amazon-web-services/splunk-add-on-for-amazon-web-services/build-ui/js/components/CustomDropdown.jsx",N={billing:{aws_billing_cur:"Billing (Cost and Usage Report)",aws_billing:"Billing (Legacy)"},aws_cloudtrail:{aws_sqs_based_s3:"SQS-Based S3",aws_cloudtrail:"CloudTrail",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},aws_config:{aws_sqs_based_s3:"SQS-Based S3",aws_config:"Config"},aws_description:{aws_metadata:"Metadata (Boto3)",aws_description:"Description (Boto2)"},vpc_flow_logs:{aws_kinesis:"Kinesis",aws_cloudwatch_logs:"CloudWatch Logs"},s3_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},cloudfront_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},elb_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},others:{aws_cloudwatch_logs:"CloudWatch Logs",aws_s3:"Generic S3",aws_kinesis:"Kinesis",splunk_ta_aws_sqs:"SQS",aws_sqs_based_s3:"SQS-Based S3"}},v=["aws_metadata","aws_billing","aws_billing_cur","aws_s3","aws_sqs_based_s3","splunk_ta_aws_logs","aws_cloudwatch_logs","splunk_ta_aws_sqs","aws_kinesis"],S=function(f){e(S,f);var p=a(S);function S(e){var a;return n(this,S),a=p.call(this,e),i(r(a),"getMenuOptions",(function(){var e=Object.assign(a.state.services,w());return Object.keys(e).filter((function(e){return-1===v.indexOf(e)})).sort((function(a,t){return a=e[a],t=e[t],a===w().others?1:t===w().others?-1:a>t?1:-1})).map((function(t){var s=t in N,n=t in N?"":t,i=e[t];return l.createElement(m.Item,{className:"def","data-service":t,"data-input":n,hasSubmenu:s,onClick:function(e){return a.goForward(e,t,s)},__self:r(a),__source:{fileName:h,lineNumber:110,columnNumber:21}},i)}))})),i(r(a),"handleSubMenuOptions",(function(){var e=a.state.selectedMenu,t=N[e];return Object.keys(t).map((function(s,n){var i="";return 0===n&&"others"!==e&&(i=l.createElement("span",{className:"menu-recomm",__self:r(a),__source:{fileName:h,lineNumber:129,columnNumber:26}},"(Recommended)")),l.createElement(m.Item,{"data-service":e,"data-input":s,onClick:function(e){return a.onSelectInput(e)},__self:r(a),__source:{fileName:h,lineNumber:132,columnNumber:17}},t[s],i)}))})),i(r(a),"onSelectInput",(function(e){var t=$(e.currentTarget).data("input"),s=$(e.currentTarget).data("service");s?($('[data-test="layer-container"] [data-test="layer"]>div').remove(),a.props.navigator({service:t,input:s,action:"create"})):e.preventDefault()})),i(r(a),"goBack",(function(){a.setState((function(e){return{activePanelId:"one"===e.activePanelId?"two":"one",transition:"backward",selectedMenu:""}}))})),i(r(a),"goForward",(function(e,t,s){s?a.setState((function(e){return{activePanelId:"one"===e.activePanelId?"two":"one",transition:"forward",selectedMenu:t}})):a.onSelectInput(e)})),a.state={services:{},activePanelId:"one",transition:"forward",selectedMenu:"",open:!1},a}return t(S,[{key:"componentDidMount",value:function(){var e={},a=this.props.globalConfig;g(a).forEach((function(a){e[a.name]=a.title})),this.setState({services:e,open:!1})}},{key:"render",value:function(){var e=this;if(!this.state.services)return"Loading...";var a=this.getMenuOptions(),t=l.createElement(d,{className:"asasa",appearance:"toggle",label:"Create New Input",onClick:function(){return e.setState({open:!0})},isMenu:!0,__self:this,__source:{fileName:h,lineNumber:187,columnNumber:24}}),n=this.state,i=n.activePanelId,r=n.transition,f=null;return"two"==this.state.activePanelId&&this.state.selectedMenu&&(f=this.handleSubMenuOptions()),l.createElement(o.SplunkThemeProvider,s({},b,{__self:this,__source:{fileName:h,lineNumber:203,columnNumber:13}}),l.createElement(u,{closeReasons:["clickAway","escapeKey","offScreen","toggleClick"],toggle:t,__self:this,__source:{fileName:h,lineNumber:204,columnNumber:17}},l.createElement("div",{style:{width:200},__self:this,__source:{fileName:h,lineNumber:205,columnNumber:21}},l.createElement(c,{activePanelId:i,transition:r,__self:this,__source:{fileName:h,lineNumber:206,columnNumber:25}},l.createElement(c.Panel,{key:"one",panelId:"one",__self:this,__source:{fileName:h,lineNumber:207,columnNumber:29}},l.createElement(m.Heading,{title:!0,__self:this,__source:{fileName:h,lineNumber:208,columnNumber:33}},"Data Type"),l.createElement(m,{__self:this,__source:{fileName:h,lineNumber:209,columnNumber:33}},a)),l.createElement(c.Panel,{key:"two",panelId:"two",__self:this,__source:{fileName:h,lineNumber:213,columnNumber:29}},l.createElement(m,{style:{width:200},__self:this,__source:{fileName:h,lineNumber:214,columnNumber:33}},l.createElement(m.Item,{icon:l.createElement(_,{__self:this,__source:{fileName:h,lineNumber:215,columnNumber:54}}),onClick:this.goBack,__self:this,__source:{fileName:h,lineNumber:215,columnNumber:37}},"Back"),l.createElement(m.Heading,{title:!0,__self:this,__source:{fileName:h,lineNumber:218,columnNumber:37}},"Input Type"),l.createElement(m.Divider,{__self:this,__source:{fileName:h,lineNumber:219,columnNumber:37}}),f))))))}}]),S}(f.exports.Component),k=function(){function e(a,t,s){n(this,e),this.globalConfig=a,this.el=t,this.navigator=s,jQuery((function(e){e("div.pageSubtitle").html('<div class="tool-description"><p style="margin: 0px;"> Create data inputs to collect data from AWS </p> <hr style="width: 270px;margin-left: 0px;"> <p style="margin:5px"> Ingesting data from AWS to Splunk Cloud? Have you tried the new Splunk Data Manager yet? <br> Data Manager makes AWS data ingestion simpler, more automated and centrally managed for you, while co-existing with AWS and/or Kinesis TAs.<br>Read our <a target="_blank" href="https://splk.it/31oy2b2">blog post</a> to learn more about Data Manager and it\'s availability on your Splunk Cloud instance. </p><hr style="width: 646px;margin-left: 0px;"> </div>')}))}return t(e,[{key:"render",value:function(){return this.el.innerHTML='<div id="custom-menu"></div>',p.render(l.createElement(S,{globalConfig:this.globalConfig,navigator:this.navigator,__self:this,__source:{fileName:"/home/runner/work/splunk-add-on-for-amazon-web-services/splunk-add-on-for-amazon-web-services/build-ui/js/CustomMenu.js",lineNumber:36,columnNumber:7}}),document.getElementById("custom-menu")),this}}]),e}();export{k as default};
//# sourceMappingURL=CustomMenu.js.map
